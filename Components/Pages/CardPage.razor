@using MTG.Services
@rendermode InteractiveServer
@using System.Linq
@page "/Card/{searchString}"
@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@inject NavigationManager NavigationManager
@inject ProtectedSessionStorage ProtectedSessionStorage

<h1>Card Page for @searchString</h1>
<div class="card-display">
    @if (selectedCard != null)
    {
        <div>
            <img src="@selectedCard.Image" />
            <button @onclick="() => AddCard()">Add to Deck</button>
        </div>
        <div class="card-details">
            <h3>@selectedCard.Name @selectedCard.ConvertedManaCost</h3>
            <p>@selectedCard.Text</p>
            
        </div>
        <div class="printing-details">
        <h3>Printings</h3>
        <ul class="card-list">
            @foreach (Models.Card card in myCards)
            {
                <li @onclick="() => SelectCard(card)">
                    @card.Name @card.SetCode
                </li>
            }
        </ul>
        </div>
    }
</div>
<br />




